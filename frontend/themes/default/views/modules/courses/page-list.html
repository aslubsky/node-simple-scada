<breadcrumbs>
    <crumb href="'/'" title="'Мой кабинет'|translate" />
    <crumb href="'/study-resources'" title="'Учебные ресурсы'|translate" />
    <crumb title="'Курсы'|translate" />
</breadcrumbs>


<div class="padded">
    <div class="page-header">
        <div class="table-actions">
            <a href="/courses/create" class="btn btn-success btn-sm"><i class="fa fa-plus"></i> {{'Создать'|translate}}</a>
            <a ng-show="checkboxes.checkedAny"  bz-confirm="deleteChecked(checkboxes.items)" message="'Удалить?'" title="{{'Удалить'|translate}}" class="btn btn-danger btn-sm">
                <i class="fa fa-times"></i> {{'Удалить'|translate}}
            </a>
        </div>

        <h1>{{'Курсы'|translate}}</h1>
    </div>
    <div class="main-content" bz-loading-container="loading">
        <table ng-table="tableParams" class="table ng-table-responsive table-striped table-condensed table-hover table-courses" show-filter="true" >
            <tr ng-repeat="(k,course) in courses">

                <td width="20" style="text-align: left;" header="'/themes/default/views/block/ng-table/headers/checkbox.html'">
                    <input type="checkbox" ng-model="checkboxes.items[course.id]"/>
                </td>

                <td class="table-preview" width="40%" data-title="'Название'|translate" filter="{ 'title': 'text' }" sortable="'title'">
                    <a class="name" href="/courses/{{course.id}}/view">

                        <img class="img-circle" width="32" ng-src="{{course.icon_thumb}}"/>
                        {{course.title}}
                    </a>
                    <div class="subtext" ng-bind-html="getHtml(course.description)"></div>
                </td>

                <td data-title="'Аннотация'|translate" filter="{ 'description': 'text' }" sortable="'description'">
                    {{course.annotation}}
                </td>

                <td class="text-center" data-title="'Дата создания'|translate" filter="{ 'created_at': 'date', 'templateURL': '/themes/default/views/block/ng-table/filters/date.html' }" sortable="'created_at'">
                    {{course.created_at | date:'yyyy-MM-dd'}}
                </td>

                <td class="text-center" data-title="'Метки'|translate" filter="{ 'tags': 'text' }" sortable="'tags'">
                    <span class="label label-default arrowed arrow-left ng-binding">{{course.tags}}</span>
                </td>

                <td width="205" data-title="'Действия'|translate" class="actions" filter="{ 'clear': 'clear', 'templateURL': '/themes/default/views/block/ng-table/filters/clear.html' }">
                    <div class="btn-group">
                        <a href="/courses/{{course.id}}/edit" title="{{'Редактировать'|translate}}"><span class="fa fa-pencil"></span></a>
                        <a href="/courses/{{course.id}}/elements" title="{{'Материалы'|translate}}"><span class="fa fa-book"></span></a>
                        <a href="/courses/{{course.id}}/plan" title="{{'План'|translate}}"><span class="fa fa-list-ol"></span></a>
                        <a href="/courses/{{course.id}}/users" title="{{'Слушатели'|translate}}"><span class="fa fa-users"></span></a>
                        <a href="/courses/{{course.id}}/report" title="{{'Отчет о прохождении курса'|translate}}"><span class="fa fa-bar-chart-o"></span></a>
                        <a href="" bz-confirm="remove(course)" message="'Удалить?'" title="{{'Удалить'|translate}}"><span class="text-danger fa fa-times"></span></a>
                    </div>
                </td>

            </tr>
        </table>
    </div>
</div>


