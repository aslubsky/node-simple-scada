<breadcrumbs>
    <crumb href="'/'" title="'Мой кабинет'|translate" />
    <crumb href="'/study-resources'" title="'Учебные ресурсы'|translate" />
    <crumb href="'/courses'" title="'Курсы'|translate" />
    <crumb href="'/courses/' + course.id + '/view'" title="course.title" />
    <crumb title="'Материалы'|translate" />
</breadcrumbs>


<div class="padded">
    <div class="page-header">
        <div class="table-actions">
            <a  ng-click="createAndConnect(type)"class="btn btn-success btn-sm"><i class="fa fa-plus"></i> {{'Создать и подключить ресурс'|translate}}</a>
        </div>
        <h1>{{'Материалы курса'|translate}}</h1>
        <h6><strong>{{'Курс'|translate}}:</strong> {{course.title}}</h6>
    </div>
    <div class="main-content" bz-loading-container="loading">
        <div class="col-xs-6 col-md-6">

            <div class="form-group">
                <label for="type" class="col-sm-2 control-label">{{'Тип'|translate}}</label>

                <div class="col-sm-10">
                    <select class="form-control" id="type" ng-model="type">
                        <option value="All">{{'-'|translate}}</option>
                        <option value="test">{{'Тест'|translate}}</option>
                        <option value="page">{{'Страница'|translate}}</option>
                        <option value="file">{{'Файл'|translate}}</option>
                        <option value="url">{{'Ссылка'|translate}}</option>
                        <option value="html">{{'HTML-сайт'|translate}}</option>
                    </select>
                </div>
            </div>


            <div ng-show="categoriesFilter" class="form-group">
                <br>
                <br>
                <label for="type" class="col-sm-2 control-label">{{'Категория'|translate}}</label>

                <div class="col-sm-10">
                    <select class="form-control" id="category" ng-model="category" ng-options="c.id as c.title for c in categories">
                    </select>
                </div>
            </div>

            <br>
            <br>

            <div class="form-group">
                <label for="search" class="col-sm-2 control-label">{{'Поиск'|translate}}</label>

                <div class="col-sm-10">
                    <input type="text" class="form-control" ng-model="search" id="search">
                </div>
            </div>
            <br>
            <br>
            <div class="form-group">
                <label for="search" class="col-sm-2 control-label">{{'Метки'|translate}}</label>

                <div class="col-sm-10">
                    <input type="text" class="form-control" ng-model="searchByTags" id="searchTags">
                </div>
            </div>
            <br>
            <br>

            <div bz-loading-container="loading">
                <table class="table table-striped">
                    <tr ng-repeat="item in data">

                        <td>
                            <span ng-if="item.type == 'test'">
                                 <span class="fa fa-check-square-o"></span>
                                 {{item.title}}
                                 <span ng-if="item.code" class="label label-default">{{item.code}}</span>
                                 <div ng-if="item.description">{{item.description}}</div>
                            </span>

                            <span ng-if="item.type == 'page'">
                                 <span class="fa fa-file-text-o"></span>
                                 <a href="/pages/{{item.id}}/view" target="_blank">{{item.title}}</a>
                                 <span ng-if="item.code" class="label label-default">{{item.code}}</span>
                                 <div ng-if="item.description">{{item.description}}</div>
                            </span>

                            <span ng-if="item.type == 'file'">
                                <span class="fa fa-file"></span>
                                <a href="/pages/{{item.id}}/view" target="_blank">{{item.title}}</a>
                                <span ng-if="item.code" class="label label-default">{{item.code}}</span>
                                <div ng-if="item.description">{{item.description}}</div>
                            </span>

                            <span ng-if="item.type == 'url'">
                                <span class="fa fa-link"></span>
                                <a href="/pages/{{item.id}}/view" target="_blank">{{item.title}}</a>
                                <span ng-if="item.code" class="label label-default">{{item.code}}</span>
                                <div ng-if="item.description">{{item.description}}</div>
                            </span>

                            <span ng-if="item.type == 'html'">
                                <span class="fa-files-o"></span>
                                <a href="/pages/{{item.id}}/view" target="_blank">{{item.title}}</a>
                                <span ng-if="item.code" class="label label-default">{{item.code}}</span>
                                <div ng-if="item.description">{{item.description}}</div>
                            </span>

                        </td>


                        <td width="95" class="text-center">
                            <div class="btn-group">
                                <a class="btn btn-sm btn-default" ng-click="add(item)" title="{{'Добавить'|translate}}">
                                    <span class="fa fa-arrow-right"></span></a>
                            </div>
                        </td>

                    </tr>
                </table>
            </div>

        </div>

        <div class="col-xs-6 col-md-6">
            <div bz-loading-container="loading">
                <table class="table table-striped">
                    <tr ng-repeat="el in elements">

                        <td width="95" class="text-center">
                            <div class="btn-group">
                                <a class="btn btn-sm btn-default" ng-click="$delete(el)"
                                   title="{{'Удалить'|translate}}">
                                    <span class="fa fa-arrow-left"></span></a>
                            </div>
                        </td>
                        <td>
                             <span ng-if="el.sub_type == 'test'" >
                                 <span class="fa fa-check-square-o"></span>
                                 {{el.title}}
                                 <span ng-if="el.code" class="label label-default">{{el.code}}</span>
                                 <div ng-if="el.description">{{el.description}}</div>
                            </span>

                            <span ng-if="el.sub_type == 'page'">
                                 <span class="fa fa-file-text-o"></span>
                                 <a href="/pages/{{el.element_id}}/view" target="_blank">{{el.title}}</a>
                                 <span ng-if="el.code" class="label label-default">{{el.code}}</span>
                            <div ng-if="el.description">{{el.description}}</div>
                            </span>

                            <span ng-if="el.sub_type == 'file'" >
                                 <span class="fa fa-file"></span>
                                 <a href="/pages/{{el.element_id}}/view" target="_blank">{{el.title}}</a>
                                 <span ng-if="el.code" class="label label-default">{{el.code}}</span>
                            <div ng-if="el.description">{{el.description}}</div>
                            </span>

                            <span ng-if="el.sub_type == 'url'">
                                  <span lass="fa fa-link "></span>
                                  <a href="/pages/{{el.element_id}}/view" target="_blank">{{el.title}}</a>
                                 <span ng-if="el.code" class="label label-default">{{el.code}}</span>
                                 <div ng-if="el.description">{{el.description}}</div>
                            </span>

                            <span ng-if="el.sub_type == 'html'">
                                  <span lass="fa fa-files-o "></span>
                                  <a href="/pages/{{el.element_id}}/view" target="_blank">{{el.title}}</a>
                                 <span ng-if="el.code" class="label label-default">{{el.code}}</span>
                                 <div ng-if="el.description">{{el.description}}</div>
                            </span>

                        </td>

                        <td width="200" class="text-center">
                            <div class="btn-group">
                                <a href="" class="btn btn-sm btn-default" ng-click="up(el)" ><span class="fa fa-arrow-up"></span></a>
                                <a href="" class="btn btn-sm btn-default" ng-click="down(el)" ><span class="fa fa-arrow-down"></span></a>
                            </div>

                        </td>
                    </tr>
                </table>

            </div>
        </div>
    </div>
    </div>


