<form class="task form-horizontal" name="task" novalidate>

    <div class="form-group">
        <label class="control-label col-lg-2">{{'Название'|translate}}<span class="star">*</span></label>

        <div class="controls col-lg-9">
            <input class="form-control" type="text" ng-model="data.task.title" name="title" required>

            <div class="ng-cloak help-block" ng-if="task.title.$invalid">
                {{'Поле не может быть пустым'|translate}}
            </div>
        </div>
    </div>

    <div class="form-group">
        <label class="control-label col-lg-2">{{'Описание'|translate}}</label>

        <div class="controls col-lg-9">
            <textarea class="form-control" ng-model="data.task.description" name="description"></textarea>
        </div>
    </div>

    <div class="form-group">
        <label class="control-label col-lg-2">{{'Тип'|translate}}<span class="star">*</span></label>

        <div class="controls col-lg-9">
            <select class="form-control" ng-model="data.task.type" name="type" required>
                <option value="test">{{'Тест'|translate}}</option>
                <option value="course">{{'Курс'|translate}}</option>
                <option value="resource">{{'Ресурс'|translate}}</option>
            </select>

            <div class="ng-cloak help-block" ng-if="task.type.$invalid">
                {{'Поле не может быть пустым'|translate}}
            </div>
        </div>
    </div>



    <div class="form-group">
        <label class="control-label col-lg-2">{{'Порог прохождения, в %'|translate}}</label>

        <div class="controls col-lg-9">
            <input class="form-control" type="text" ng-model="data.task.threshold" name="threshold"
                   custom-validator-int="100" required>

            <div class="ng-cloak help-block" ng-show="task.threshold.$invalid">
                {{'Невалидное число'|translate}}
            </div>

        </div>
    </div>

    <div ng-if="data.task.type == 'test'"
         ng-include="'/themes/default/views/modules/tasks/form-test-settings.html'"></div>
    <div ng-if="data.task.type == 'resource'"
         ng-include="'/themes/default/views/modules/tasks/form-resource-settings.html'"></div>
    <div ng-if="data.task.type == 'course'"
         ng-include="'/themes/default/views/modules/tasks/form-course-settings.html'"></div>

    <div class="form-group">
        <div class="controls col-lg-9 col-lg-offset-3">
            <button ng-disabled="task.$invalid || loading" ng-click="save(data)"
                    class="btn btn-primary">
                <span ng-hide="loading">{{'Сохранить'|translate}}</span>
                <span ng-show="loading">{{'Сохраняется...'|translate}}</span>
            </button>
            <button ng-click="cancel()" class="btn btn-default">
                <span>{{'Отменить'|translate}}</span>
            </button>
        </div>
    </div>


</form>