<breadcrumbs>
    <crumb href="'/'" title="'Мой кабинет'|translate" />
    <crumb href="'/study-resources'" title="'Учебные ресурсы'|translate" />
    <crumb title="'Тесты'|translate" />
</breadcrumbs>

<div class="padded">
    <div class="page-header">
        <div class="table-actions">
            <a href="/tests/create" class="btn btn-success btn-sm"><i class="fa fa-plus"></i> {{'Создать'|translate}}</a>
            <a ng-show="checkboxes.checkedAny"  bz-confirm="deleteChecked(checkboxes.items)" message="'Удалить?'" title="{{'Удалить'|translate}}" class="btn btn-danger btn-sm"><i class="fa fa-trash-o"></i> {{'Удалить'|translate}}</a>
        </div>
        <h1>{{'Тесты'|translate}}</h1>
    </div>
    <div class="main-content" bz-loading-container="loading">
        <table ng-table="tableParams" show-filter="true" class="table ng-table-responsive table-striped table-condensed table-hover table-tests" >
            <tr ng-repeat="test in tests">
                <td width="20" style="text-align: left;" header="'/themes/default/views/block/ng-table/headers/checkbox.html'">
                    <input type="checkbox" ng-model="checkboxes.items[test.id]"/>
                </td>

                <td class="table-preview" data-title="'Название'|translate" filter="{ 'title': 'text' }"
                    sortable="'title'">
                        <span class="preview img-circle">
                            {{test.title.0}}
                        </span>
                        <a class="name" href="/tests/{{test.id}}/questions">
                            {{test.title}}
                        </a>
                    <div class="subtext" ng-bind-html="getHtml(test.description)"></div>
                </td>

                <td class="text-center" data-title="'Вопросов'|translate" filter="{ 'questions_count': 'text' }" sortable="'questions_count'">
                    {{test.questions_count}}
                </td>

                <td width="145" class="text-center" data-title="'Дата создания'|translate" filter="{ 'created_at': 'date', 'templateURL': '/themes/default/views/block/ng-table/filters/date.html' }" sortable="'created_at'">
                    {{test.created_at | date:'yyyy-MM-dd'}}<br/>
                    {{test.created_at|date:'HH:mm:ss'}}
                </td>

                <td class="text-center" data-title="'Метки'|translate" filter="{ 'tags': 'text' }" sortable="'tags'">
                    <span class="label label-default arrowed arrow-left ng-binding">{{test.tags}}</span>
                </td>

                <td width="95" data-title="'Действия'|translate" class="actions" filter="{ 'clear': 'clear', 'templateURL': '/themes/default/views/block/ng-table/filters/clear.html' }">
                    <a href="/tests/edit/{{test.id}}" title="{{'Редактировать'|translate}}"><span class="fa fa-pencil"></span></a>
                    <a href="" bz-confirm="remove(test)" message="'Удалить?'" title="{{'Удалить'|translate}}"><span class="fa fa-times text-danger"></span></a>
                </td>
            </tr>
        </table>
    </div>
</div>